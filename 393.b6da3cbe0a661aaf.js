"use strict";(self.webpackChunkfelixflesch=self.webpackChunkfelixflesch||[]).push([[393],{7393:(K,_,g)=>{g.r(_),g.d(_,{BlogModule:()=>k});var c=g(9808),d=g(4187),B=g(44),t=g(7587),f=g(3229),x=g(2313),L=g(6497);class b{static getDescendantProperty(o,e,n=[]){let i,l,a,r,p,h;if(e){if(a=e.indexOf("."),-1===a?i=e:(i=e.slice(0,a),l=e.slice(a+1)),r=o[i],null!=r)if(l||"string"!=typeof r&&"number"!=typeof r)if("[object Array]"===Object.prototype.toString.call(r))for(p=0,h=r.length;p<h;p++)b.getDescendantProperty(r[p],l,n);else l&&b.getDescendantProperty(r,l,n);else n.push(r)}else n.push(o);return n}}class u{constructor(o=[],e=[],n={}){Array.isArray(e)||(n=e,e=[]),this.haystack=o,this.keys=e,this.options=Object.assign({caseSensitive:!1,sort:!1},n)}search(o=""){if(""===o)return this.haystack;const e=[];for(let n=0;n<this.haystack.length;n++){const i=this.haystack[n];if(0===this.keys.length){const l=u.isMatch(i,o,this.options.caseSensitive);l&&e.push({item:i,score:l})}else for(let l=0;l<this.keys.length;l++){const a=b.getDescendantProperty(i,this.keys[l]);let r=!1;for(let p=0;p<a.length;p++){const h=u.isMatch(a[p],o,this.options.caseSensitive);if(h){r=!0,e.push({item:i,score:h});break}}if(r)break}}return this.options.sort&&e.sort((n,i)=>n.score-i.score),e.map(n=>n.item)}static isMatch(o,e,n){o=String(o),e=String(e),n||(o=o.toLocaleLowerCase(),e=e.toLocaleLowerCase());const i=u.nearestIndexesFor(o,e);return!!i&&(o===e?1:i.length>1?i[i.length-1]-i[0]+2:2+i[0])}static nearestIndexesFor(o,e){const n=e.split("");let i=[];return u.indexesOfFirstLetter(o,e).forEach((a,r)=>{let p=a+1;i[r]=[a];for(let h=1;h<n.length;h++){if(p=o.indexOf(n[h],p),-1===p){i[r]=!1;break}i[r].push(p),p++}}),i=i.filter(a=>!1!==a),!!i.length&&i.sort((a,r)=>1===a.length?a[0]-r[0]:(a=a[a.length-1]-a[0])-(r=r[r.length-1]-r[0]))[0]}static indexesOfFirstLetter(o,e){const n=e[0];return o.split("").map((i,l)=>i===n&&l).filter(i=>!1!==i)}}var y=g(2036),C=g(3075);function Z(s,o){if(1&s&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}const T=function(s,o){return[s,o]},w=function(s){return{"has-text-centered":s}};let E=(()=>{class s{constructor(e){this.translate=e,this._centerContent=!1,this._path="/blog",this._isEnglish=!1}ngOnInit(){this._isEnglish="en"===this.translate.currentLang,this.onLangChange=this.translate.onLangChange.subscribe(e=>{this._isEnglish="en"===e.lang})}ngOnDestroy(){this.onLangChange.unsubscribe()}get blogpost(){return this._blogpost}get path(){return this._path}get centerContent(){return this._centerContent}get isEnglish(){return this._isEnglish}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(f.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-blog-box"]],inputs:{_blogpost:"_blogpost",_centerContent:"_centerContent",_path:"_path"},decls:13,vars:14,consts:[[1,"box",3,"routerLink"],[1,"media"],[1,"media-content"],[1,"content",3,"ngClass"],[1,"card-date"],["class","tag is-warning is-light",4,"ngFor","ngForOf"],[1,"tag","is-warning","is-light"]],template:function(e,n){1&e&&(t.TgZ(0,"a",0)(1,"article",1)(2,"div",2)(3,"div",3)(4,"div")(5,"b"),t._uU(6),t.qZA(),t.TgZ(7,"p",4),t._uU(8),t.ALo(9,"date"),t.qZA(),t.YNc(10,Z,2,1,"span",5),t.TgZ(11,"p"),t._uU(12),t.qZA()()()()()()),2&e&&(t.Q6J("routerLink",t.WLB(9,T,n.path,n.blogpost.id)),t.xp6(3),t.Q6J("ngClass",t.VKq(12,w,n.centerContent)),t.xp6(3),t.Oqu(n.isEnglish?n.blogpost.titleEN:n.blogpost.titleDE),t.xp6(2),t.Oqu(t.xi3(9,6,n.blogpost.date,"dd.MM.yyyy")),t.xp6(2),t.Q6J("ngForOf",n.blogpost.tags),t.xp6(2),t.Oqu(n.isEnglish?n.blogpost.descEN:n.blogpost.descDE))},directives:[d.yS,c.mk,c.sg],pipes:[c.uU],styles:[".card-date[_ngcontent-%COMP%]{font-size:small}.box[_ngcontent-%COMP%]{max-width:750px;margin:auto;height:100%!important}.tag[_ngcontent-%COMP%]{margin-right:7px;margin-bottom:15px}"]}),s})();function M(s,o){1&s&&(t.TgZ(0,"div",6),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"blog.list.error"),"\n"))}function S(s,o){1&s&&(t.TgZ(0,"div",7),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"blog.list.warning"),"\n"))}function A(s,o){if(1&s&&(t.TgZ(0,"div")(1,"div",8),t._UZ(2,"app-blog-box",9),t.qZA()()),2&s){const e=o.$implicit;t.xp6(2),t.Q6J("_blogpost",e)("_centerContent",!0)}}let P=(()=>{class s{constructor(e,n){this.blogService=e,this.translate=n,this.query="",this._blogposts=[]}ngOnInit(){this.blogService.getAllBlogposts$().subscribe(e=>{this.searcherDE=new u(e,["tags","titleDE","contentDE","descDE"],{sort:!0}),this.searcherEN=new u(e,["tags","titleEN","contentEN","descEN"],{sort:!0}),this._blogposts=e})}onSearchType(){console.log("Query updated to: "+this.query),console.log("Query search result: "),"de"==localStorage.getItem("lang")?(console.log(this.searcherDE.search(this.query)),this._blogposts=this.searcherDE.search(this.query)):(console.log(this.searcherEN.search(this.query)),this._blogposts=this.searcherEN.search(this.query))}get blogposts(){return this._blogposts}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(y.Z),t.Y36(f.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-blogpost-list"]],decls:9,vars:10,consts:[[1,"title","has-text-centered"],[1,"control","searchbar"],["type","text",1,"input",3,"ngModel","placeholder","ngModelChange"],["class","subtitle has-text-danger-dark has-text-centered warning",4,"ngIf"],["class","subtitle has-text-warning-dark has-text-centered warning",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"subtitle","has-text-danger-dark","has-text-centered","warning"],[1,"subtitle","has-text-warning-dark","has-text-centered","warning"],[1,"blogpost-container"],[3,"_blogpost","_centerContent"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"div",1)(4,"input",2),t.NdJ("ngModelChange",function(l){return n.query=l})("ngModelChange",function(){return n.onSearchType()}),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,M,3,3,"div",3),t.YNc(7,S,3,3,"div",4),t.YNc(8,A,3,2,"div",5)),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,6,"blog.list.title")),t.xp6(3),t.s9C("placeholder",t.lcZ(5,8,"blog.list.searchplaceholder")),t.Q6J("ngModel",n.query),t.xp6(2),t.Q6J("ngIf",0===n.blogposts.length&&n.query.length>2),t.xp6(1),t.Q6J("ngIf",0===n.blogposts.length&&n.query.length>0&&n.query.length<3),t.xp6(1),t.Q6J("ngForOf",n.blogposts))},directives:[C.Fj,C.JJ,C.On,c.O5,c.sg,E],pipes:[f.X$],styles:[".searchbar[_ngcontent-%COMP%]{max-width:500px;margin:auto}.blogpost-container[_ngcontent-%COMP%]{margin-top:30px}.warning[_ngcontent-%COMP%]{margin-top:40px}"]}),s})();var F=g(8675),v=g(9354);function I(s,o){if(1&s&&(t.TgZ(0,"span",5),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e)}}let N=(()=>{class s{constructor(){this._title="",this._content="",this._tags=[]}get title(){return this._title}get content(){return this._content}get date(){return this._date}get tags(){return this._tags}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-viewer"]],inputs:{_title:"_title",_content:"_content",_date:"_date",_tags:"_tags"},decls:8,vars:7,consts:[[1,"viewerWrapper"],[1,"date"],[1,"title"],["class","tag is-warning is-light",4,"ngFor","ngForOf"],[3,"data"],[1,"tag","is-warning","is-light"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"h1",2),t._uU(5),t.qZA(),t.YNc(6,I,2,1,"span",3),t._UZ(7,"markdown",4),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.xi3(3,4,n.date,"dd.MM.yyyy")),t.xp6(3),t.hij(" ",n.title," "),t.xp6(1),t.Q6J("ngForOf",n.tags),t.xp6(1),t.Q6J("data",n.content))},directives:[c.sg,v.lF],pipes:[c.uU],styles:[".tag[_ngcontent-%COMP%]{margin-right:7px;margin-bottom:15px}.date[_ngcontent-%COMP%]{margin-bottom:5px}.viewerWrapper[_ngcontent-%COMP%]{margin:auto;max-width:1000px}"]}),s})(),J=(()=>{class s{constructor(e,n,i,l){this.translate=e,this.route=n,this.router=i,this.blogService=l,this._blogpost=new F.y,this._isEnglish=!1}ngOnInit(){this._isEnglish="en"===this.translate.currentLang;const e=Number(this.route.snapshot.paramMap.get("blogpostId"));this.blogService.getBlogpostArticleById$(e).subscribe(n=>{this._blogpost=n},n=>{this.router.navigate(["blog"])}),this.onLangChange=this.translate.onLangChange.subscribe(n=>{this._isEnglish="en"===n.lang})}ngOnDestroy(){this.onLangChange.unsubscribe()}get blogpost(){return this._blogpost}get isEnglish(){return this._isEnglish}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(f.sK),t.Y36(d.gz),t.Y36(d.F0),t.Y36(y.Z))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-blogpost-page"]],decls:1,vars:4,consts:[[3,"_title","_content","_tags","_date"]],template:function(e,n){1&e&&t._UZ(0,"app-viewer",0),2&e&&t.Q6J("_title",n.isEnglish?n.blogpost.titleEN:n.blogpost.titleDE)("_content",n.isEnglish?n.blogpost.contentEN:n.blogpost.contentDE)("_tags",n.blogpost.tags)("_date",n.blogpost.date)},directives:[N],styles:[""]}),s})();var U=g(4218);function Y(s,o){1&s&&t._UZ(0,"app-blogpost-list")}function D(s,o){1&s&&t._UZ(0,"app-blogpost-page")}let O=(()=>{class s{constructor(e,n,i,l){this.translate=e,this.titleService=n,this.route=i,this.router=l,this.CurrentPage=B.C,this.viewState=m.LIST,this.ViewState=m}ngOnInit(){this.route.params.subscribe(e=>{e.blogpostId&&(isNaN(Number(e.blogpostId))?this.router.navigate(["/blog"]):(this.viewState=m.BLOGPOST,this.blogpostId=Number(e.blogpostId)))}),this.translate.get("blog.title").subscribe(e=>{this.titleService.setTitle("Felix Flesch | "+e)})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(f.sK),t.Y36(x.Dx),t.Y36(d.gz),t.Y36(d.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-blog"]],decls:6,vars:3,consts:[[3,"currentPage"],[1,"section"],[1,"container","is-center"],[4,"ngIf"]],template:function(e,n){1&e&&(t._UZ(0,"app-nav-bar",0),t.TgZ(1,"section",1)(2,"div",2),t.YNc(3,Y,1,0,"app-blogpost-list",3),t.YNc(4,D,1,0,"app-blogpost-page",3),t.qZA()(),t._UZ(5,"app-footer")),2&e&&(t.Q6J("currentPage",n.CurrentPage.BLOG),t.xp6(3),t.Q6J("ngIf",n.viewState===n.ViewState.LIST),t.xp6(1),t.Q6J("ngIf",n.viewState===n.ViewState.BLOGPOST))},directives:[L.w,c.O5,P,J,U.c],styles:[""]}),s})();var m=(()=>{return(s=m||(m={}))[s.LIST=0]="LIST",s[s.BLOGPOST=1]="BLOGPOST",m;var s})();const V=d.Bz.forChild([{path:"",component:O},{path:":blogpostId",component:O},{path:"**",redirectTo:"",pathMatch:"full"}]);var q=g(8809),j=g(5905),X=g(4466);let $=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[c.ez,v.JP.forChild()]]}),s})(),k=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[c.ez,V,f.aw,q.R,j._,C.u5,X.n,v.JP.forChild(),$]]}),s})()}}]);